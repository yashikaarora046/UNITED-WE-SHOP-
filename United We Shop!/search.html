<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Here!</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <!-- import vue -->
    <script src="https://kit.fontawesome.com/4a404ff615.js" crossorigin="anonymous"></script>
    <!-- import fontawesome icons -->
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <!-- import CSS stylesheet -->
    <style>
        #search_form {
            margin-left: 20%;
            margin-top: 20px;
        }
        
        #search_img {
            padding-left: 20%;
        }
        
         ::placeholder {
            /* for the search bar's placeholder text */
            color: black;
            font-size: 20px;
        }
    </style>
</head>

<body>
    <div id="app">
        <navigation></navigation>
        <form role="search" id="search_form">
            <!-- search bar -->
            <input type="search" id="search_query" name="q" placeholder="Search Your Favourite Brands" aria-label="Search through site content">
            <!-- search button with icon, calls the submitted method when clicked -->
            <button id="search_button" v-on:click="submitted()"><i class="fa fa-search"></i></button>
        </form>
        <img id="search_img" src="images/shopping.jpg">
    </div>

    <script>
        Vue.component('navigation', { //global component representing the navigation bar at the top of the page
            template: ' \
            <nav> \
                <div id="nav-left"> \
                    <!-- links on the left side of the site icon -->\
                    <a class="sign_out" href="login.html"><i class="fa fa-sign-out"></i>Sign out</a> \
                    <a class="home" href="homepage.html"><i class="fas fa-home"></i> Home</a> \
                    <a class="trends" href="trend.html"><i class="fa fa-line-chart"></i> Latest Trends</a> \
                </div> \
                <div id="nav-center"> \
                    <!-- site icon in the center -->\
                    <p id="icon" style="font-size: 25px">United We Shop!</p> \
                </div> \
                <div id="nav-right"> \
                    <!-- link on the right side of the site icon -->\
                    <a href="search.html"><i class="fa fa-search"></i> Search your Favourite Brands</a> \
                </div> \
            </nav> '
        })

        var app = new Vue({ //root Vue instance
            el: "#app",
            methods: {
                submitted(event) { //submitted event triggers when the search button is pressed
                    const f = document.getElementById('search_form');
                    const q = document.getElementById('search_query');
                    if (q.value != '') { //does not execute the search if the user leaves the search bar blank
                        const google = 'https://www.google.com/search?q=site%3A+';
                        const site = '';
                        const url = google + site + '+' + q.value; //searches for the text collected from the search input on Google
                        const win = window.open(url, '_blank');
                        win.focus(); //sets the focus to the new window
                    }
                }
            },
        })
    </script>

    <body>

</html>